graph TD;
    subgraph "Core Application"
        AppModule;
    end

    subgraph "Authentication & User"
        AuthModule;
        UserModule;
    end

    subgraph "Business Logic Modules"
        ProjectModule;
        InboxModule;
    end

    subgraph "Real-time Layer"
        GatewayModule;
        RealtimeSessionModule;
    end
    
    subgraph "Asynchronous Processing Layer"
        EventProducerModule;
        EventConsumerModule;
    end

    subgraph "Infrastructure & Common Services"
        DatabaseModule;
        RedisModule;
        CommonModule;
    end

    %% Dependencies
    AppModule --> AuthModule;
    AppModule --> UserModule;
    AppModule --> ProjectModule;
    AppModule --> InboxModule;
    AppModule --> GatewayModule;
    AppModule --> EventProducerModule;
    AppModule --> EventConsumerModule;
    AppModule --> RealtimeSessionModule;
    AppModule --> RedisModule;
    AppModule --> DatabaseModule;
    AppModule --> CommonModule;

    AuthModule --> UserModule;
    
    GatewayModule --> AuthModule;
    GatewayModule --> RealtimeSessionModule;
    GatewayModule --> EventProducerModule;
    GatewayModule --> InboxModule;

    EventConsumerModule --> InboxModule;
    
    InboxModule --> RealtimeSessionModule;
    InboxModule --> GatewayModule;

    RealtimeSessionModule --> RedisModule;

    %% Styling
    classDef app fill:#f9f,stroke:#333,stroke-width:2px;
    classDef auth fill:#ccf,stroke:#333,stroke-width:2px;
    classDef bizlogic fill:#fec,stroke:#333,stroke-width:2px;
    classDef realtime fill:#cfc,stroke:#333,stroke-width:2px;
    classDef async fill:#cff,stroke:#333,stroke-width:2px;
    classDef infra fill:#eee,stroke:#333,stroke-width:2px;

    class AppModule app;
    class AuthModule,UserModule auth;
    class ProjectModule,InboxModule bizlogic;
    class GatewayModule,RealtimeSessionModule realtime;
    class EventProducerModule,EventConsumerModule async;
    class DatabaseModule,RedisModule,CommonModule infra;